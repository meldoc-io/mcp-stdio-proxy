---
alias: advanced
title: Advanced Usage
---
Configuration files, environment variables, and best practices for advanced users.

## Configuration Files

The tool uses several configuration files. Usually you don't need to edit them manually.

### `~/.meldoc/credentials.json`

**Location:** `~/.meldoc/credentials.json`

**Purpose:** Stores authentication tokens and user information.

**Created:** Automatically when using `auth login`

**Contains:**

- Access tokens
- Refresh tokens
- User information
- Token expiration times

**⚠️ Warning:** Do not edit this file manually! Use CLI commands instead.

**Permissions:** Should be 600 (read/write for owner only)

### `~/.meldoc/config.json`

**Location:** `~/.meldoc/config.json`

**Purpose:** Global configuration settings, including auto-cached workspace preference.

**Contains:**

- Default workspace alias (automatically cached when you use a workspace)
- Other global settings

**Can be edited:** Manually or via CLI commands (but usually managed automatically)

**Auto-caching behavior:**
- When you specify a workspace in any request, it's automatically cached here
- Only caches if no `meldoc.config.yml` exists (preserves project bindings)
- You can manually override by editing this file or using CLI

**Example:**

```json
{
  "workspaceAlias": "my-default-workspace"
}
```

### `meldoc.config.yml` (Project-Specific)

**Location:** Project root directory

**Purpose:** Project-specific configuration.

**Optional:** Only needed if project should use different workspace

**Example:**

```yaml
workspaceAlias: project-specific-workspace
```

**Note:** When MCP is used in a git project or directory (e.g., Claude Desktop terminal or any other LLM), the workspace is automatically taken from this configuration file if it exists.

## Environment Variables

You can configure the tool using environment variables:

- **`MELDOC_ACCESS_TOKEN`** - Direct token authentication
- **`MELDOC_API_URL`** - Override API endpoint (for testing)
- **`MELDOC_APP_URL`** - Override app URL (for testing)
- **`DEBUG`** - Enable debug logging

## Testing Locally

For development and testing:

```bash
# Set local API URL
export MELDOC_API_URL=http://localhost:8080
export MELDOC_APP_URL=http://localhost:4200

# Run tests
npm run test:local
```

## Security Best Practices

1. **Never commit credentials:**
   - Add `~/.meldoc/` to `.gitignore`
   - Don't share tokens publicly

2. **Use proper permissions:**
   - Credentials file should be 600
   - Config directory should be 700

3. **Rotate tokens regularly:**
   - Log out and log in periodically
   - Use `auth logout` when switching accounts

4. **Monitor token expiration:**
   - Check `auth status` regularly
   - Automatic refresh handles most cases

## Performance Tips

1. **Workspace selection:**
   - Workspace is automatically cached after first use - no manual setup needed!
   - Use `meldoc.config.yml` for project-specific workspaces
   - Explicit workspace in request parameters has highest priority

2. **Caching:**
   - Workspace preference is auto-cached to `~/.meldoc/config.json`
   - Tokens are cached until expiration
   - Repo config (`meldoc.config.yml`) is read on each request but not cached globally

3. **Network:**
   - Ensure stable internet connection
   - Use reliable DNS servers

## Related

- [[authentication]] - Authentication methods
- [[workspaces]] - Workspace management
- [[troubleshooting]] - Common issues
